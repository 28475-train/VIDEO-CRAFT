<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOWNLOAD - KIZUNA video</title>
    <link rel="icon" href="logo.jpg" type="image/jpeg">
    <style>
        :root { --bg: #ffffff; --text: #1d1d1f; --sub: #86868b; --accent: #0071e3; --border: #d2d2d7; }
        @media (prefers-color-scheme: dark) { :root { --bg: #000000; --text: #f5f5f7; --border: #38383a; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: var(--text); font-family: -apple-system, sans-serif; text-align: center; padding: 20px; }
        .container { max-width: 500px; margin: 0 auto; padding-top: 40px; }
        input { width: 100%; padding: 16px; border-radius: 14px; border: 1px solid var(--border); background: var(--bg); color: var(--text); text-align: center; margin-bottom: 20px; }
        .btn { width: 100%; padding: 18px; border-radius: 16px; border: none; font-weight: 700; cursor: pointer; text-decoration: none; display: block; background: var(--text); color: var(--bg); }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="group-name">DOWNLOAD</h1>
        <p id="status-text" style="color:var(--sub);margin:20px 0;">パスワードを入力してください</p>
        <div id="auth-ui">
            <input type="password" id="pass-input" placeholder="Password">
            <button onclick="checkAuth()" class="btn">認証してダウンロード</button>
        </div>
        <a id="video-url-btn" href="#" class="btn" style="display:none;background:var(--accent);color:white;">動画をダウンロードする</a>
    </div>
    <script>
        const groupData = { "demo": { name: "テスト用プロジェクト", pass: "1234", fileId: "1_36LTJ4ziezHNIZtFOvKr--c9ajtKmjm" } };
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');
        const config = groupData[id] || { name: "KIZUNA video", pass: "2026", fileId: "" };
        document.getElementById('group-name').innerText = config.name;
        function checkAuth() {
            const input = document.getElementById('pass-input').value;
            if (input === config.pass) {
                document.getElementById('auth-ui').style.display = 'none';
                document.getElementById('status-text').innerText = "認証完了";
                const urlBtn = document.getElementById('video-url-btn');
                urlBtn.href = "https://drive.google.com/uc?export=download&id=" + config.fileId;
                urlBtn.style.display = 'block';
            } else { alert("パスワードが違います"); }
        }
    </script>
</body>
</html>
